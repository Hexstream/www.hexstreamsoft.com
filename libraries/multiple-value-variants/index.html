<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="author" content="Jean-Philippe Paradis" />
    <link rel="author" href="http://www.hexstreamsoft.com/introduction.html" />
    <link rel="license" href="http://www.hexstreamsoft.com/UNLICENSE" />
    <link rel="prev" href="../anaphoric-variants/" />
    <meta name="description" content="Gives access to multiple-value variants of operators through one macro: multiple-value. The multiple-value mapping operators are especially useful." />
    <title>multiple-value-variants | Libraries | HexstreamSoft</title>
    <link href="../../css/global.css" rel="stylesheet" type="text/css" />
    <link href="../libraries.css" rel="stylesheet" type="text/css" />
    <script src="http://use.edgefonts.net/sanvito-pro-display.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-1783234-3', 'hexstreamsoft.com');
      ga('send', 'pageview');
    </script>
  </head>
  <body>

    <nav id="site-nav">

      <nav class="breadcrumbs-and-extras">

        <nav class="breadcrumbs">
          <a href="../../">HexstreamSoft</a>
          <span class="separator"> » </span>
          <a href="../">Libraries</a>
          <span class="separator"> » </span>
          <a href="../categories/macros/">Macros</a>
          <span class="separator"> » </span>
          <a href="../categories/macros/extensible/">Extensible</a>
          <span class="separator"> » </span>
          <a class="here">multiple-value-variants</a>
          <div class="float-clear"></div>
        </nav>

        <nav id="meta-nav">
          <a href="http://www.hexstreamsoft.com/libraries/multiple-value-variants/">
            <abbr title="Canonical">C</abbr>
          </a>
          <a href="https://github.com/Hexstream/com.hexstreamsoft/blob/master/libraries/multiple-value-variants/index.html">
            <abbr title="Source">S</abbr>
          </a>
        </nav>

        <nav>
          <a class="sequential-link prev" href="../anaphoric-variants/">←</a>
          <a href="../">
            Libraries
            <span>9/15   4/4</span>
          </a>
          <a class="sequential-link next" href="../parse-number-range/">⇥</a>
        </nav>

        <nav>
          <a class="sequential-link prev" href="../macro-level/">←</a>
          <a href="../">
            Categories
            <span>2/5</span>
          </a>
          <a class="sequential-link next" href="../parse-number-range/">→</a>
        </nav>

        <div class="float-clear"></div>

      </nav>



      <nav class="ancestors-nav">

        <div class="level-separator"></div>

        <nav class="navbox" id="library_navbox">
          <h1>
            <a class="here">multiple-value-variants</a>
            <span class="here-indicator-left"> </span>
            <span class="here-indicator-right"> </span>
          </h1>
          <ul>
            <li><a href="#api-overview">API overview</a></li>
            <li>
              <a href="#built-in-variants" class="inlining-node">Built-in variants</a>
              <span class="item-count">(<span>17</span>)</span>
              <ul class="inlined-nodes">
                <li><a href="#progn">progn <i>/</i> prog1</a></li>
                <li><a href="#and">and <i>/</i> or</a></li>
                <li><a href="#cond">cond</a></li>
                <li><a href="#when">when <i>/</i> unless</a></li>
                <li>
                  <a href="#case">case <i>et al.</i></a>
                  <span class="item-count">(<span>6</span>)</span>
                </li>
                <li>
                  <a href="#mapcar">mapcar <i>et al.</i></a>
                  <span class="item-count">(<span>4</span>)</span>
                </li>
              </ul>
            </li>

          </ul>
          <ul>
            <li><a href="../../worknotes/#multiple-value-variants">Worknotes</a></li>
          </ul>
        </nav>

        <div class="level-separator"></div>

        <nav class="navbox" id="extensible-macro-projects_navbox">
          <h1>
            <a href="../categories/macros/extensible/">Extensible macros</a>
          </h1>
          <ul>
            <li><a href="../cartesian-product-switch/">cartesian-product-switch</a></li>
            <li><a href="../place-modifiers/">place-modifiers</a></li>
            <li><a href="../anaphoric-variants/">anaphoric-variants</a></li>
            <li>
              <a class="here">
                multiple-value-variants
                <span class="here-indicator-left"> </span>
                <span class="here-indicator-right"> </span>
              </a>
            </li>
          </ul>
        </nav>

        <div class="level-separator"></div>

        <nav class="navbox" id="macros_projects_navbox">
          <h1>
            <a href="../categories/macros/">Macros</a>
          </h1>
          <ul>
            <li><a href="../categories/macros/simple/">Simple</a></li>
            <li>
              <a href="../categories/macros/extensible/">
                Extensible
                <span class="here-indicator-left"> </span>
                <span class="here-indicator-right"> </span>
              </a>
            </li>
            <li><a href="../categories/macros/utilities/">Utilities</a></li>
          </ul>
        </nav>

        <div class="level-separator"></div>

        <nav class="navbox" id="projects_navbox">
          <h1 class="box-header">
            <a href="../">Libraries</a>
          </h1>
          <ul>
            <li><a href="../categories/macros/">Macros <span class="here-indicator-left"> </span> <span class="here-indicator-right"></span></a></li>
            <li><a href="../categories/data-structures/">Data structures</a></li>
            <li><a href="../categories/uncategorized/">Uncategorized</a></li>
          </ul>
          <ul>
            <li><a href="../releases/">Releases</a></li>
          </ul>
        </nav>

        <div class="level-separator"></div>

        <nav class="navbox" id="main_navbox">
          <h1>
            <a href="../../">HexstreamSoft</a>
          </h1>
          <ul>
            <li><a href="../../introduction.html">Introduction</a></li>
            <li><a href="../">Libraries <span class="here-indicator-left"> </span> <span class="here-indicator-right"> </span></a></li>
            <li><a href="../../articles/">Articles</a></li>
            <li><a href="../../worknotes/">Worknotes</a></li>
            <li><a href="../../accounts/">Accounts</a></li>
            <li><a href="../../resources/">Resources</a></li>
          </ul>
        </nav>

      </nav>

    </nav>

    <main>

      <header id="page-header">
        <h1>multiple-value-variants</h1>
        <p class="description">An operator overlay macro in Quicklisp.</p>
      </header>

      <div id="project-info">
        <table class="factsheet">
          <tbody>
            <tr>
              <th class="project-author property">Project author</th>
              <td class="project-author" colspan="2"><a href="../../introduction.html">Jean-Philippe Paradis</a></td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="project-type property">Project type</th>
              <td class="project-type" colspan="2">Library</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="library-programing-language property">Programing language</th>
              <td class="library-programing-language" colspan="2">Common Lisp</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="project-status property">Status</th>
              <td class="project-status good-news" colspan="2">Ready-to-use</td>
            </tr>
            <tr>
              <th class="project-license property"><a href="https://github.com/Hexstream/multiple-value-variants/blob/master/UNLICENSE">License</a></th>
              <td class="project-license good-news" colspan="2"><a href="../../resources/#unlicense">Public Domain</a></td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="library-type property">Library type</th>
              <td class="library-type" colspan="2">Operator overlay macro</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="project-complexity property">Project complexity</th>
              <td class="project-complexity" colspan="2">Medium</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="project-latest-release" rowspan="2"><a href="multiple-value-variants_latest.tar.gz">Latest release</a></th>
              <th class="project-latest-release-version property">Version</th>
              <td class="project-latest-release-version">1.0</td>
            </tr>
            <tr>
              <th class="project-latest-release-date property">Date</th>
              <td class="project-latest-release-date">10 nov 2012</td>
            </tr>
          </tbody>
          <tbody>
            <tr>
              <th class="project-quicklisp" rowspan="2">
                Quicklisp
                <br />
                <span class="as-of-dist">(<a href="http://blog.quicklisp.org/2012/11/november-2012-quicklisp-dist-update-now.html">Nov 2012 dist</a> and later)</span>
              </th>
              <th class="project-quicklisp-status property">Status</th>
              <td class="project-quicklisp-status good-news">Available</td>
            </tr>
            <tr>
              <th class="project-quicklisp-version property">Version</th>
              <td class="project-quicklisp-version good-news">Latest</td>
            </tr>
          </tbody>

        </table>

        <nav class="navbox" id="external-projects_navbox">
          <h1>
            External library pages
          </h1>
          <ul>
            <li><a href="http://github.com/Hexstream/multiple-value-variants">Github</a></li>
            <li><a href="http://quickdocs.org/multiple-value-variants">Quickdocs</a></li>
            <li><a href="http://cliki.net/multiple-value-variants">CLiki</a></li>
            <li><a href="http://common-lisp.net/project/cl-test-grid/library/multiple-value-variants.html">cl-test-grid</a></li>
          </ul>
        </nav>

        <table id="dependencies-table">
          <thead>
            <tr>
              <th></th>
              <th>Depends on</th>
              <th>Depended on by</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>Directly</th>
              <td>
                <ul>
                  <li><a href="../map-bind/">map-bind</a></li>
                  <li><a href="../positional-lambda/">positional-lambda</a></li>
                  <li><a href="../enhanced-multiple-value-bind/">enhanced-multiple-value-bind</a></li>
                </ul>
              </td>
              <td>Nothing</td>
            </tr>
            <tr>
              <th>Indirectly</th>
              <td>Nothing</td>
              <td>Nothing</td>
            </tr>
          </tbody>
        </table>

      </div>

      <p><cite class="common-lisp library">multiple-value-variants</cite> gives access to multiple-value variants of operators through one macro: <code class="common-lisp library macro operator">multiple-value</code>. There are <a href="#built-in-variants">built-in variants</a> for some standard operators; it's easy to create your own variants for other operators. The <a href="#mapcar">multiple-value mapping operators</a> are especially useful.</p>

      <section id="api-overview">

        <h1 class="breadcrumbs">
          <a href="#api-overview" class="anchor">⚓</a>
          <a href="#">multiple-value-variants</a>
          <span class="separator"> » </span>
          <a class="here">API overview</a>
        </h1>

        <p>First of all, in the way of packages there's the <code class="common-lisp library package">multiple-value-variants</code> package, which is also nicknamed <code class="common-lisp package nickname">multiple-value-variant</code>, <code class="common-lisp package nickname">mv-variants</code> and <code class="common-lisp package nickname">mv-variant</code>. The primary exported symbol is the <code class="common-lisp library macro operator">multiple-value</code> macro. Explicitly <code class="common-lisp">(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_defpkg.htm">:import-from</a> #:multiple-value-variants #:multiple-value)</code> for normal usage. Don't <code class="common-lisp">(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_defpkg.htm">:use</a>)</code>!</p>

        <p>The <code class="common-lisp library package">multiple-value-variants</code> package also exports other symbols related to creation of new multiple-value variants and querying of existing ones (documentation pending, check <a href="https://github.com/Hexstream/multiple-value-variants/blob/0556501700dbf09329f703b80814f36fe0106668/package.lisp">package.lisp</a> for a list of all exported symbols). The most important of these is <code class="common-lisp library macro operator">mv-variant:define</code>, which is normally used to define new multiple-value variants. You should normally explicitly package-qualify this symbol.</p>

        <p>There are 2 recurring features throughout the API:</p>

        <ul>
          <li><var>identity</var> generally indicates the form to evaluate (and values to return) when an implicit <code class="common-lisp library variant operator"><a href="#progn">(multiple-value progn)</a></code> has no forms.</li>
          <li><var>nth</var> indicates which value to test for conditionals.</li>
        </ul>

      </section>

      <section id="built-in-variants">

        <h1 class="breadcrumbs">
          <a href="#built-in-variants" class="anchor">⚓</a>
          <a href="#">multiple-value-variants</a>
          <span class="separator"> » </span>
          <a class="here">Built-in multiple-value variants</a>
        </h1>

          <dl>

            <dt id="progn"><a href="#progn" class="anchor">⚓</a> <pre>Variant <dfn>progn</dfn> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMkey">&amp;key</a> (<var>identity</var> '(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)))
  (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>forms</var>)</pre></dt>
            <dd>
              <p>Just like <code class="common-lisp standard special-operator operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/s_progn.htm">progn</a></code>, except if there are no <var>forms</var> then the <var>identity</var> is evaluated instead.</p>
              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> () (<code class="common-lisp library marker"><a href="#progn">progn</a></code> 1 2 3))
=&gt; 3</code></pre>
              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> () (<code class="common-lisp library marker"><a href="#progn">progn</a></code>))
=&gt; [no values]</code></pre>
            </dd>

            <dt id="prog1"><a href="#prog1" class="anchor">⚓</a> <pre>Variant <dfn>prog1</dfn> ()
  (<var>result</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>body</var>)</pre></dt>
            <dd><p>This straightforwardly expands to a <code class="common-lisp standard special-operator operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/s_mult_1.htm">multiple-value-prog1</a></code>.</p></dd>

            <dt id="and"><a href="#and" class="anchor">⚓</a> <pre>Variant <dfn>and</dfn> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMkey">&amp;key</a> <var>identity</var> (<var>nth</var> 0))
  (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a> <var>forms</var>)</pre></dt>
            <dd>
              <p>If <var>identity</VAR> is not specified, then there must be at least one <var>form.</var></p>
              <p>This is like normal <code class="common-lisp standard macro operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_and.htm">and</a></code>, except if one of the non-last <var>forms</var>' <var>nth</var>-value is <a class="common-lisp standard glossary" href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_f.htm#false">false</a>, returns all values that were returned by that <var>form</var>, not just the <a class="common-lisp standard glossary" href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_p.htm#primary_value">primary value</a>.</p>
              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> ()
  (<code class="common-lisp library marker"><a href="#and">and</a></code> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a> <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code> 'other 'values)
       t))
=&gt; <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">NIL</a></code>, OTHER, VALUES</code></pre>
            </dd>

            <dt id="or"><a href="#or" class="anchor">⚓</a>  <pre>Variant <dfn>or</dfn> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMkey">&amp;key</a> <var>identity</var> (<var>nth</var> 0))
  (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a> <var>forms</var>)</pre></dt>
            <dd>
              <p>If <var>identity</var> is not specified, then there must be at least one <var>form</var>.</p>
              <p>This is like normal <code class="common-lisp standard macro operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_or.htm">or</a></code>, except if one of the non-last <var>forms</var>' <var>nth</var>-value is true, returns all values that were returned by that <var>form</var>, not just the <a class="common-lisp standard glossary" href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_p.htm#primary_value">primary value</a>.</p>
              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> ()
  (<code class="common-lisp library marker"><a href="#or">or</a></code> (<code class="common-lisp standard function operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_find_s.htm">find-symbol</a></code> <code class="string">"OR"</code> '#:cl)
      (<code class="common-lisp standard function operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_find_s.htm">find-symbol</a></code> <code class="string">"XOR"</code> '#:cl)))
=&gt; OR, :EXTERNAL</code></pre>
            </dd>

            <dt id="cond"><a href="#cond" class="anchor">⚓</a>  <pre>Variant <dfn>cond</dfn> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMkey">&amp;key</a> (<var>nth</var> 0))
  (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a> <var>clauses</var>)</pre></dt>
            <dd>
              <p>This is just like normal <code class="common-lisp standard macro operator"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_cond.htm">cond</a></code>, except:</p>
              <ul>
                <li><p>If a <var>clause</var> that has no <var>forms</var> succeeds, then all the values that were returned by the <var>test-form</var> are returned, not just the <a class="common-lisp standard glossary" href="http://www.lispworks.com/documentation/HyperSpec/Body/26_glo_p.htm#primary_value">primary value</a>;</p></li>
                <li><p>If no <var>clause</var> succeeds, then no values are returned (instead of <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code>).</p></li>
              </ul>
              <pre class="example"><code class="common-lisp">(let ((<var>hash</var> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_mk_has.htm">make-hash-table</a>)))
  (<code class="common-lisp library macro operator">multiple-value</code> () (<code class="common-lisp library marker"><a href="#cond">cond</a></code> ((<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_gethas.htm">gethash</a> 'key <var>hash</var>))
                           ((<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)))))
=&gt; [no values]</code></pre>
              <pre class="example"><code class="common-lisp">(let ((<var>hash</var> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_mk_has.htm">make-hash-table</a>)))
  (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_setf_.htm">setf</a> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_gethas.htm">gethash</a> 'key <var>hash</var>) 'value)
  (<code class="common-lisp library macro operator">multiple-value</code> () (<code class="common-lisp library marker"><a href="#cond">cond</a></code> ((<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_gethas.htm">gethash</a> 'key <var>hash</var>))
                           ((<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)))))
=&gt; VALUE, T</code></pre>
            </dd>

            <dt id="when"><a href="#when" class="anchor">⚓</a>  <pre>Variant <dfn>when</dfn> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMkey">&amp;key</a> (<var>else</var> '(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)) (<var>identity</var> '(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)))
  (<var>test</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>forms</var>)</pre></dt>
            <dd>
              <p>If <var>test</var> evaluates to true, evaluate <var>forms</var> as an implicit <code class="common-lisp library variant operator"><a href="#progn">(multiple-value progn)</a></code> with <var>identity</var> as the identity.</p>
              <p>Else, evaluate <var>else</var>.</p>
              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> ()
  (<code class="common-lisp library marker"><a href="#when">when</a></code> <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code>
    (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_wr_pr.htm#print">print</a> <code class="string">"side-effect"</code>)))
=&gt; [no values]</code></pre>
            </dd>

            <dt id="unless"><a href="#unless" class="anchor">⚓</a> <pre>Variant <dfn>unless</dfn> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMkey">&amp;key</a> (<var>else</var> '(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)) (<var>identity</var> '(<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a>)))
  (<var>test</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>forms</var>)</pre></dt>
            <dd>
              <p>If <var>test</var> evaluates to false, evaluate <var>forms</var> as an implicit <code class="common-lisp library variant operator"><a href="#progn">(multiple-value progn)</a></code> with <var>identity</var> as the identity.</p>
              <p>Else, evaluate <var>else</var>.</p>
            </dd>

            <dt id="case"><a href="#case" class="anchor">⚓</a> <pre>Variant <dfn>case</dfn> () (<var>keyform</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>cases</var>)</pre></dt>
            <dt id="ccase"><a href="#ccase" class="anchor">⚓</a> <pre>Variant <dfn>ccase</dfn> () (<var>keyplace</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>cases</var>)</pre></dt>
            <dt id="ecase"><a href="#ecase" class="anchor">⚓</a> <pre>Variant <dfn>ecase</dfn> () (<var>keyform</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>cases</var>)</pre></dt>
            <dt id="typecase"><a href="#typecase" class="anchor">⚓</a> <pre>Variant <dfn>typecase</dfn> () (<var>keyform</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>cases</var>)</pre></dt>
            <dt id="ctypecase"><a href="#ctypecase" class="anchor">⚓</a> <pre>Variant <dfn>ctypecase</dfn> () (<var>keyplace</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>cases</var>)</pre></dt>
            <dt id="etypecase"><a href="#etypecase" class="anchor">⚓</a> <pre>Variant <dfn>etypecase</dfn> () (<var>keyform</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_dd.htm#AMbody">&amp;body</a> <var>cases</var>)</pre></dt>
            <dd><p>These are like their normal counterparts, except the <var>forms</var> in each case is an implicit <code class="common-lisp library variant operator"><a href="#progn">(multiple-value progn)</a></code>, and if no <var>case</var> matches in <code class="common-lisp library operator">case</code> or <code class="common-lisp library operator">typecase</code>, then no values are returned (instead of <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code>).</p></dd>

            <dt id="mapcar"><a href="#mapcar" class="anchor">⚓</a> <pre>Variant <dfn>mapcar</dfn> (<var>multiple-values-count</var>)
  (<var>function</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a>+ <var>lists</var>)</pre></dt>
            <dt id="mapcan"><a href="#mapcan" class="anchor">⚓</a> <pre>Variant <dfn>mapcan</dfn> (<var>multiple-values-count</var>)
  (<var>function</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a>+ <var>lists</var>)</pre></dt>
            <dt id="maplist"><a href="#maplist" class="anchor">⚓</a> <pre>Variant <dfn>maplist</dfn> (<var>multiple-values-count</var>)
  (<var>function</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a>+ <var>lists</var>)</pre></dt>
            <dt id="mapcon"><a href="#mapcon" class="anchor">⚓</a> <pre>Variant <dfn>mapcon</dfn> (<var>multiple-values-count</var>)
  (<var>function</var> <a href="http://www.lispworks.com/documentation/HyperSpec/Body/03_da.htm#AMrest">&amp;rest</a>+ <var>lists</var>)</pre></dt>
            <dd>
              <p>These are just like the <a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_mapc_.htm">normal variants</a>, except they can accumulate multiple results at the same time. This is especially useful to "triage" values (ex: split the elements of a list into 2 lists according to some criteria), and to accumulate multiple "layers" of values in one pass for macroexpansions, as an alternative to repeated mapping (sometimes with some readability problems due to reduced "correlation").</p>
              <p><var>multiple-values-count</var> is not evaluated, and must be a non-negative integer indicating the number of results (values) to accumulate and return. <var>function</var> would normally return that many values. If <var>function</var> returns less than <var>multiple-values-count</var> values, then the remaining values are <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code>. If <var>function</var> returns more than <var>multiple-values-count</var> values, then the excess values are ignored.</p>
              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> (2)
  (<code class="common-lisp library marker"><a href="#mapcar">mapcar</a></code> #'<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_floorc.htm#truncate">truncate</a> '(3 5/4 5.5)))
=&gt; (3 1 5), (0 1/4 0.5)</code></pre>

              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> 2
  (<code class="common-lisp library marker"><a href="#mapcan">mapcan</a></code> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_lambda.htm">lambda</a> (<var>object</var>)
            (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/s_if.htm">if</a> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_nump.htm">numberp</a> <var>object</var>)
                (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_list_.htm">list</a> <var>object</var>) <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code>)
                (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a> <code class="common-lisp standard constant"><a href="http://www.lispworks.com/documentation/HyperSpec/Body/v_nil.htm">nil</a></code> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_list_.htm">list</a> <var>object</var>))))
          '(0 a 2 3/4 c)))
=&gt; (0 2 3/4), (A C)</code></pre>

              <pre class="example"><code class="common-lisp">(<code class="common-lisp library macro operator">multiple-value</code> 3
  (<code class="common-lisp library marker"><a href="#maplist">maplist</a></code> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/m_lambda.htm">lambda</a> (<var>tail</var>)
             (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_values.htm">values</a> <var>tail</var>
                     (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_revers.htm">reverse</a> <var>tail</var>)
                     (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_list_.htm">list</a> (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_firstc.htm">first</a> <var>tail</var>) (<a href="http://www.lispworks.com/documentation/HyperSpec/Body/f_firstc.htm">second</a> <var>tail</var>))))
           '(a b c d e)))
=&gt;
((A B C D E) (B C D E) (C D E) (D E) (E))
((E D C B A) (E D C B) (E D C) (E D) (E))
((A B) (B C) (C D) (D E) (E NIL))</code></pre>
            </dd>

          </dl>

        </section>

    </main>

    <footer id="footer">
      <div>
        <a href="#" class="back-to-top">⬆</a>
        <span class="page-badge"><a href="http://validator.w3.org/check?uri=http%3A%2F%2Fwww.hexstreamsoft.com%2Flibraries%2Fmultiple-value-variants%2F"><span class="checkmark">✔</span> HTML5</a></span>
        <span class="page-badge"><a href="https://github.com/Hexstream/com.hexstreamsoft/blob/master/libraries/multiple-value-variants/index.html"><span class="checkmark">✔</span> Public Domain</a></span>
        <span class="page-badge"><a href="http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Fwww.hexstreamsoft.com%2Flibraries%2Fmultiple-value-variants%2F"><span class="checkmark">✔</span> CSS3</a></span>
        <span class="page-badge"><a href="https://github.com/Hexstream/com.hexstreamsoft/commit/39026e7aaf9355ff19dff2d00ff3c684a49d1663"><span class="checkmark">✔</span> Xah Lee compliant</a></span>
      </div>
    </footer>

  </body>
</html>
